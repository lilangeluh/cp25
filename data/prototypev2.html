<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Temperatures Prototype 2</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=IBM+Plex+Mono:wght@400;500&display=swap"
    rel="stylesheet"
  />

  <style>
    :root {
      color-scheme: light;
      --sans: "Helvetica Neue", "Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      --serif: "Instrument Serif", "Times New Roman", serif;
      --mono: "IBM Plex Mono", "Courier New", monospace;
      --ink: #161821;
      --ink-strong: #10111a;
      --ink-soft: #2b2f3e;
      --ink-muted: #4b5165;
      --paper: #fdfbf7;
      --glass: rgba(255, 255, 255, 0.85);
      --border: rgba(26, 27, 36, 0.14);
      --border-strong: rgba(26, 27, 36, 0.24);
      --shadow-soft: 0 28px 55px rgba(24, 28, 46, 0.12);
      --blue-soft: #cfdfee;
      --blue-mid: #e0e8f1;
      --olive: #f3f4ea;
      --yellow-soft: #ffe8b6;
      --yellow-deep: #ffdca0;
    }

    *, *::before, *::after {
      box-sizing: border-box;
    }

    body {
      font-family: var(--sans);
      color: var(--ink-soft);
      background: var(--paper);
      margin: 0;
      line-height: 1.55;
      letter-spacing: -0.01em;
      overflow: hidden;
    }

    img {
      max-width: 100%;
      display: block;
    }

    button {
      font: inherit;
      color: inherit;
    }

    .hidden {
      display: none !important;
    }

    .min-h-screen {
      min-height: 100vh;
    }

    .center {
      display: flex;
      align-items: center;
      justify-content: center;
    }

    h1, h2, h3 {
      font-family: var(--serif);
      color: var(--ink);
      margin: 0;
    }

    p {
      margin: 0;
    }

    /* Landing */

    .landing {
      background: linear-gradient(180deg, var(--blue-soft) 0%, var(--blue-mid) 22%, var(--olive) 50%, var(--yellow-soft) 78%, var(--yellow-deep) 100%);
      background-size: 100% 220%;
      animation: gradientShift 28s ease-in-out infinite;
      text-align: center;
      padding: clamp(2rem, 5vw, 4rem);
      position: relative;
    }

    .landing::after {
      content: "";
      position: absolute;
      inset: clamp(1rem, 4vw, 2.5rem);
      border: 1px solid rgba(255, 255, 255, 0.35);
      border-radius: clamp(2rem, 6vw, 4rem);
      pointer-events: none;
    }

    .landing > div {
      max-width: 720px;
      margin: 0 auto;
      padding: clamp(2rem, 6vw, 5rem);
    }

    h1 {
      font-size: clamp(3.1rem, 7vw, 4.8rem);
      letter-spacing: -0.02em;
      line-height: 1.05;
      color: var(--ink-strong);
    }

    .subtitle {
      font-size: clamp(1.1rem, 2.8vw, 1.6rem);
      color: var(--ink-muted);
      margin-top: 1rem;
      margin-bottom: clamp(2rem, 5vw, 3.5rem);
      line-height: 1.6;
    }

    .enter-btn {
      border: 1px solid rgba(255, 255, 255, 0.65);
      border-radius: 999px;
      padding: 0.75rem 1.5rem 0.75rem 1.35rem;
      background: rgba(255, 255, 255, 0.3);
      backdrop-filter: blur(12px);
      letter-spacing: 0.08em;
      text-transform: uppercase;
      font-size: 0.95rem;
      color: var(--ink-soft);
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 0.75rem;
      transition: transform 0.25s ease, color 0.25s ease, border-color 0.25s ease;
      animation: float 3.5s ease-in-out infinite;
    }

    .enter-btn:hover {
      color: var(--ink-strong);
      border-color: rgba(255, 255, 255, 0.9);
      transform: translateY(-3px);
    }

    .chevron {
      font-size: 1.4rem;
    }

    @keyframes gradientShift {
      0% { background-position: 0% 0%; }
      50% { background-position: 0% 100%; }
      100% { background-position: 0% 0%; }
    }

    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-14px); }
    }

    /* Scroll view */

    #scroll-view {
      position: relative;
      height: 100vh;
      overflow: hidden;
      color: var(--ink);
    }

    .scroll-header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 20;
      background: transparent;
      backdrop-filter: none;
      border-bottom: none;
    }

    .scroll-header-inner {
      width: 100%;
      padding: clamp(0.65rem, 1.8vw, 1.1rem) clamp(1.5rem, 4vw, 4rem);
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: clamp(0.75rem, 4vw, 6rem);
      flex-wrap: wrap;
    }

    .temp-toggle {
      display: inline-flex;
      border: 1px solid var(--border);
      border-radius: 999px;
      overflow: hidden;
      background: rgba(255, 255, 255, 0.15);
    }

    .temp-toggle__btn {
      border: none;
      background: transparent;
      padding: 0.4rem 1rem;
      font-family: var(--serif);
      font-size: 0.95rem;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      cursor: pointer;
      color: var(--ink-soft);
      transition: color 0.25s ease, background 0.25s ease;
    }

    .temp-toggle__btn.is-active {
      color: var(--paper);
      background: var(--ink);
    }

    .archive-btn {
      display: inline-flex;
      align-items: center;
      gap: 0.6rem;
      font-size: 0.82rem;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      border: 1px solid var(--border);
      border-radius: 999px;
      padding: 0.5rem 1rem;
      background: transparent;
      cursor: pointer;
      transition: color 0.2s ease, border-color 0.2s ease;
      color: var(--ink-soft);
    }

    .archive-btn:hover {
      color: var(--ink-strong);
      border-color: var(--border-strong);
    }

    .grid-icon {
      width: 16px;
      height: 16px;
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 1px;
    }

    .grid-icon span {
      border-radius: 2px;
      border: 1px solid currentColor;
    }

    .scroll-container {
      position: relative;
      height: 100vh;
      overflow-y: auto;
      padding-top: 4.8rem;
      background: var(--blue-soft);
      transition: background 0.4s ease;
      scroll-behavior: smooth;
    }

    .scroll-inner {
      width: min(960px, 90vw);
      margin: 0 auto;
      padding: clamp(2rem, 6vw, 4rem) 0 clamp(5rem, 8vw, 7rem);
      display: grid;
      gap: clamp(4rem, 8vw, 10rem);
    }

    /* Memories */

    .memory-section {
      min-height: 90vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: clamp(2.5rem, 7vw, 4rem) 0;
      text-align: center;
      cursor: pointer;
      transition: transform 0.4s ease;
    }

    .memory-section:hover {
      transform: translateY(-12px);
    }

    .memory-section > div {
      width: min(620px, 84vw);
      padding: clamp(2rem, 5vw, 3.5rem);
      border-radius: 40px;
      border: none;
      background: transparent;
      box-shadow: none;
      display: grid;
      gap: 1.1rem;
      text-shadow: 0 12px 32px rgba(253, 251, 247, 0.85);
    }

    .memory-temp {
      font-size: clamp(3.2rem, 10vw, 6.2rem);
      font-weight: 300;
      letter-spacing: -0.02em;
      color: var(--ink);
    }

    .memory-location {
      font-size: clamp(1.3rem, 3.5vw, 2.1rem);
      font-weight: 400;
      letter-spacing: -0.01em;
    }

    .memory-short {
      font-size: clamp(1rem, 2.6vw, 1.2rem);
      color: var(--ink-soft);
      line-height: 1.8;
      font-style: italic;
      max-width: 36rem;
      margin: 0 auto;
    }

    .memory-time {
      color: var(--ink-muted);
      font-size: 0.85rem;
      letter-spacing: 0.25em;
      text-transform: uppercase;
      font-family: var(--mono);
    }

    /* Floating about button */

    .about-btn {
      position: fixed;
      bottom: 1.5rem;
      left: clamp(1.5rem, 4vw, 4rem);
      z-index: 30;
      padding: 0;
      border: none;
      background: transparent;
      cursor: pointer;
      transition: transform 0.25s ease;
    }

    .about-btn:hover {
      transform: translateY(-3px);
    }

    .info-dot {
      width: 38px;
      height: 38px;
      border-radius: 50%;
      border: 1.5px solid var(--border);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 15px;
      font-weight: 600;
      color: var(--border);
      font-family: var(--serif);
      background: transparent;
      transition: color 0.2s ease, border-color 0.2s ease, transform 0.2s ease;
    }

    .about-btn:hover .info-dot {
      transform: scale(1.08);
    }

    /* Overlays */

    .overlay {
      position: fixed;
      inset: 0;
      z-index: 50;
      background: rgba(253, 251, 247, 0.96);
      padding: clamp(1.5rem, 3vw, 2.5rem);
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    .overlay-inner {
      width: min(1200px, 94vw);
      margin: 0 auto;
      padding: clamp(2.8rem, 4vw, 3.5rem);
    }

    .overlay-close {
      position: absolute;
      top: clamp(0.8rem, 2.5vw, 1.6rem);
      right: clamp(0.8rem, 2.5vw, 1.6rem);
      width: 44px;
      height: 44px;
      border: none;
      background: transparent;
      color: var(--ink);
      cursor: pointer;
      font-family: var(--serif);
      font-size: 2.1rem;
      font-weight: 300;
      letter-spacing: -0.05em;
      line-height: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: transform 0.2s ease, color 0.2s ease;
    }

    .overlay-close:hover {
      color: var(--ink-strong);
      transform: scale(1.06);
    }

    .detail-bg {
      width: 100%;
      max-height: min(940px, 90vh);
      border-radius: 36px;
      padding-top: 3.5rem;
      padding-bottom: 3.5rem;
      position: relative;
      overflow: hidden;
    }

    .detail-grid {
      display: grid;
      gap: clamp(2rem, 4vw, 3.5rem);
      grid-template-columns: minmax(0, 0.9fr) minmax(0, 1.1fr);
      align-items: start;
    }

    @media (min-width: 768px) {
      .detail-grid {
        grid-template-columns: minmax(0, 0.8fr) minmax(0, 1.2fr);
      }
    }

    #polaroid-container {
      grid-column: 1;
      grid-row: 1;
      justify-self: start;
      margin-bottom: clamp(1.2rem, 3vw, 1.8rem);
      width: clamp(220px, 34vw, 300px);
    }

    .polaroid {
      position: relative;
      display: block;
      width: 100%;
      transform-origin: center;
      transition: transform 0.3s ease;
    }

    .detail-temp {
      font-size: clamp(4rem, 7vw, 6rem);
      font-family: var(--serif);
      font-weight: 300;
      letter-spacing: -0.03em;
      margin-bottom: 0.5rem;
    }

    #detail-left {
      grid-column: 1;
      grid-row: 2;
      margin-top: 0;
      margin-bottom: clamp(1.8rem, 4vw, 3.2rem);
    }

    #detail-right {
      grid-column: 2;
      grid-row: 1 / span 2;
    }

    .detail-grid:has(#polaroid-container:empty) #detail-left {
      grid-row: 1;
    }

    .detail-location {
      font-size: 1.5rem;
      letter-spacing: 0;
    }

    .detail-time {
      font-size: 0.9rem;
      color: var(--ink-muted);
      text-transform: uppercase;
      letter-spacing: 0.22em;
      margin-bottom: 1.5rem;
    }

    .detail-bar-bg {
      width: 100%;
      height: 8px;
      background: rgba(255, 255, 255, 0.6);
      border-radius: 999px;
      overflow: hidden;
    }

    .detail-bar-fill {
      height: 100%;
      border-radius: 999px;
      transition: width 1s ease;
    }

    .detail-text {
      font-family: var(--serif);
      font-size: 1.1rem;
      line-height: 1.75;
      color: var(--ink-soft);
      letter-spacing: -0.005em;
    }

    .detail-meta {
      margin-top: 2rem;
      padding-top: 1.5rem;
      border-top: 1px solid rgba(255, 255, 255, 0.5);
      font-size: 0.9rem;
      color: var(--ink-muted);
    }

    #polaroid-container:empty {
      display: none;
    }

    #archive-overlay {
      overflow-y: auto;
    }

    #archive-overlay .overlay-inner {
      width: min(1050px, 88vw);
      background: rgba(253, 248, 238, 0.78);
      border-radius: 32px;
      padding: clamp(4rem, 6vw, 5rem) clamp(3rem, 5vw, 4rem) clamp(3rem, 5vw, 4rem);
      box-shadow: none;
      margin: clamp(3.5rem, 7vw, 5.5rem) auto clamp(2rem, 4vw, 3rem);
    }

    .polaroid-inner {
      width: 100%;
      background: #fff;
      padding: 0.75rem;
      box-shadow: 0 20px 35px rgba(0, 0, 0, 0.22);
      cursor: pointer;
      transition: box-shadow 0.2s ease;
    }

    .polaroid-inner:hover {
      box-shadow: 0 28px 48px rgba(0, 0, 0, 0.3);
    }

    .polaroid-img {
      width: 100%;
      height: 230px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2.6rem;
      opacity: 0.6;
      margin-bottom: 0.35rem;
      font-family: var(--serif);
    }

    .polaroid-caption {
      font-size: 0.7rem;
      font-family: var(--mono);
      text-align: center;
      color: var(--ink-muted);
    }

    @media (max-width: 768px) {
      .detail-grid {
        grid-template-columns: 1fr;
      }

      #polaroid-container {
        grid-column: 1;
        grid-row: 1;
        justify-self: center;
      }

      #detail-left {
        grid-column: 1;
        grid-row: 2;
        text-align: center;
      }

      #detail-right {
        grid-column: 1;
        grid-row: 3;
      }

      .detail-temp {
        justify-self: center;
      }
    }

    /* Archive */

    .archive-title-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 2.5rem;
    }

    .archive-title {
      font-size: 2.1rem;
    }

    .archive-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(110px, 1fr));
      gap: 0.7rem;
    }

    .archive-card {
      position: relative;
      padding-top: 100%;
      border-radius: 1rem;
      overflow: hidden;
      cursor: pointer;
      transition: transform 0.2s ease;
      box-shadow: none;
      border: 1px solid rgba(0, 0, 0, 0.08);
    }

    .archive-card:hover {
      transform: translateY(-4px);
    }

    .archive-temp {
      position: absolute;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
      font-weight: 300;
      color: rgba(255, 255, 255, 0.9);
    }

    .archive-hover {
      position: absolute;
      inset: 0;
      background: linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.6) 100%);
      display: flex;
      align-items: flex-end;
      padding: 0.9rem;
      opacity: 0;
      transition: opacity 0.25s ease;
    }

    .archive-card:hover .archive-hover {
      opacity: 1;
    }

    .archive-hover-text {
      color: #fff;
      font-family: var(--serif);
      font-size: 0.85rem;
    }

    /* About */

    .about-title {
      font-size: clamp(2.2rem, 4vw, 3rem);
      margin-bottom: 1.5rem;
    }

    .about-text {
      font-family: var(--serif);
      font-size: 1.05rem;
      line-height: 1.85;
      color: var(--ink-soft);
      display: grid;
      gap: 1.4rem;
    }

    .about-meta {
      margin-top: 2rem;
      padding-top: 1.5rem;
      border-top: 1px solid var(--border);
      font-size: 0.92rem;
      color: var(--ink-muted);
      display: grid;
      gap: 0.4rem;
    }

    /* Responsive adjustments */

    @media (max-width: 640px) {
      .scroll-header-inner {
        justify-content: center;
      }

      .memory-section > div {
        border-radius: 28px;
      }

      .about-btn {
        bottom: 1rem;
        left: 1rem;
      }
    }
  </style>
</head>
<body>

  <!-- Landing -->
  <section id="landing" class="min-h-screen center landing">
    <div>
      <h1>Temperatures Prototype 2</h1>
      <p class="subtitle">slightly more fleshed out version</p>
      <button id="enter-btn" class="enter-btn">
        <span>Enter</span>
        <span class="chevron">⌄</span>
      </button>
    </div>
  </section>

  <!-- Scroll experience -->
  <section id="scroll-view" class="hidden">
    <div class="scroll-header">
      <div class="scroll-header-inner">
        <div class="temp-toggle" role="group" aria-label="Temperature units">
          <button type="button" class="temp-toggle__btn is-active" data-unit="fahrenheit">°F</button>
          <button type="button" class="temp-toggle__btn" data-unit="celsius">°C</button>
        </div>
        <button id="archive-open-btn" class="archive-btn">
          <div class="grid-icon">
            <span></span><span></span><span></span>
            <span></span><span></span><span></span>
            <span></span><span></span><span></span>
          </div>
          <span>Archive</span>
        </button>
      </div>
    </div>

    <div id="scroll-container" class="scroll-container">
      <div id="scroll-inner" class="scroll-inner">
        <!-- memory sections injected here -->
      </div>
    </div>

    <!-- Floating about button -->
    <button id="about-open-btn" class="about-btn">
      <div class="info-dot">i</div>
    </button>
  </section>

  <!-- Memory Detail Overlay -->
  <div id="memory-detail-overlay" class="overlay hidden">
    <div id="memory-detail-bg" class="detail-bg">
      <button class="overlay-close" id="detail-close-btn">×</button>
      <div class="overlay-inner">
        <div class="detail-grid">
          <!-- Polaroid -->
          <div id="polaroid-container" class="detail-polaroid"></div>

          <div id="detail-left">
            <div id="detail-temp" class="detail-temp">0°F</div>
            <div id="detail-location" class="detail-location"></div>
            <div id="detail-time" class="detail-time"></div>
            <div class="detail-bar-bg">
              <div id="detail-bar-fill" class="detail-bar-fill"></div>
            </div>
          </div>
          <div id="detail-right">
            <div id="detail-text" class="detail-text"></div>
            <div id="detail-meta" class="detail-meta"></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Archive Overlay -->
  <div id="archive-overlay" class="overlay hidden">
    <button class="overlay-close" id="archive-close-btn">×</button>
    <div class="overlay-inner">
      <div class="archive-title-row">
        <h2 class="archive-title">Archive</h2>
      </div>
      <div id="archive-grid" class="archive-grid">
        <!-- archive cards injected here -->
      </div>
    </div>
  </div>

  <!-- About Overlay -->
  <div id="about-overlay" class="overlay hidden">
    <button class="overlay-close" id="about-close-btn">×</button>
    <div class="overlay-inner">
      <h2 class="about-title">About about about</h2>
      <div class="about-text">
        <p>
          This a styled prototype with no real data in yet. eventualy this is where ill talk about my project motivations.
        </p>
        <p>
          rahhhh
        </p>
        <p>
          woooooaoaoaoao another paragraph.
        </p>
      </div>
      <div class="about-meta">
        <p>content content content</p>
        <p>notes?</p>
      </div>
    </div>
  </div>

  <script>
    const memories = [
      { temp: 0,  location: "Memory 1 location",  short: "Placeholder description.", long: "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer sit amet maximus ipsum. Praesent a ipsum at augue viverra mattis. Sed eget bibendum turpis. Phasellus interdum, massa sed tincidunt egestas, turpis mi mattis metus, vitae porttitor ipsum diam at mi.", time: "morning",       color: "#B8D4E8" },
      { temp: 5,  location: "Memory 2 location",  short: "Placeholder description.", long: "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed tempor, diam sed consequat rutrum, lacus eros posuere velit, vitae tincidunt arcu est non tortor. Cras ac mauris ac est ornare interdum sed quis magna.", time: "early morning", color: "#C1DAE8" },
      { temp: 10, location: "Memory 3 location",  short: "Placeholder description.", long: "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras feugiat, augue nec imperdiet posuere, tortor metus pellentesque mauris, sed sollicitudin lorem purus nec urna. Aliquam id feugiat lectus, vitae viverra enim.", time: "late morning", color: "#CAE0E8" },
      { temp: 15, location: "Memory 4 location",  short: "Placeholder description.", long: "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla dictum mi id varius gravida. Aliquam erat volutpat. In ac massa ex. Donec tincidunt turpis vitae ipsum ultricies, vel auctor ipsum dapibus.", time: "midday",       color: "#D3E6E8" },
      { temp: 20, location: "Memory 5 location",  short: "Placeholder description.", long: "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer vitae ipsum sed enim laoreet euismod. Donec hendrerit felis ut mauris tincidunt, sit amet egestas urna sagittis. Suspendisse lacinia non augue in euismod.", time: "afternoon",    color: "#DCECE8" },
      { temp: 25, location: "Memory 6 location",  short: "Placeholder description.", long: "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum iaculis et ex eget elementum. Quisque congue, urna id maximus sagittis, erat augue varius lectus, at gravida ipsum enim sed erat.", time: "evening",      color: "#E5F2E8" },
      { temp: 30, location: "Memory 7 location",  short: "Placeholder description.", long: "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed ac sollicitudin nibh, a feugiat tellus. Vivamus lacinia sagittis urna, a tristique sapien posuere eget. Vivamus efficitur nisi id ligula blandit pharetra.", time: "night",        color: "#E8F4E8" },
      { temp: 35, location: "Memory 8 location",  short: "Placeholder description.", long: "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris interdum fermentum ante, non consectetur leo tincidunt ut. Pellentesque pulvinar neque at enim cursus, sed convallis magna congue.", time: "late night",   color: "#E8F0E8" },
      { temp: 40, location: "Memory 9 location",  short: "Placeholder description.", long: "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque molestie bibendum mi, a dictum ante vulputate at. Sed id efficitur augue, sed dictum arcu. Nullam non bibendum magna.", time: "morning",       color: "#E8EDE5" },
      { temp: 45, location: "Memory 10 location", short: "Placeholder description.", long: "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse potenti. Aliquam sit amet viverra nisi. Ut consequat nulla eget facilisis luctus. Vestibulum laoreet eget risus eget elementum.", time: "afternoon",    color: "#E8EBE2" },
      { temp: 50, location: "Memory 11 location", short: "Placeholder description.", long: "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer vel dui sit amet lorem convallis dictum. Curabitur placerat, sem ac dictum consectetur, ligula dolor commodo nisl, vel vestibulum justo quam vitae nulla.", time: "evening",      color: "#E8E8DF" },
      { temp: 55, location: "Memory 12 location", short: "Placeholder description.", long: "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam erat volutpat. Phasellus sagittis nibh eget arcu sollicitudin eleifend. Suspendisse et libero vel mi malesuada hendrerit sed nec tortor.", time: "night",        color: "#E8E8DC" },
      
      { temp: 60, location: "Memory 13 location", short: "Placeholder description.", long: "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi vel turpis ut magna cursus luctus. Nunc ac aliquet tellus. Suspendisse cursus erat nec neque consequat, vitae dignissim sapien pellentesque.", time: "morning",       color: "#ECE8D9" },
      {
  temp: 66,
  location: "Aoraki / Mount Cook, New Zealand",
  short: "Lupins everywhere",
  long: "December 24, 2024. I'm halfway up the Hooker Valley trail, the kind of steady incline that makes your legs warm but your fingers still a little cold. Lupins spill down the valley in impossible purples and pinks, like someone went crazy with a pastel highlighter pack. The air smells like wet stone and sunblock. There is a small glacial river runs parallel to the path, the water is a milky blue from melted glacier mixed with rocks. Officially it’s 66°F, but the wind off the snowfields keeps brushing past me.",
  time: "Morning",
  feelsLike: 60,
  date: "2024-12-24",
  color: "#FFE4BE",
  image: "data/images/aoraki.JPG" 
  
},
      { temp: 70, location: "Memory 15 location", short: "Placeholder description.", long: "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam in consequat turpis. Aliquam vel justo id ipsum viverra sodales. Donec gravida ante sit amet nisi dapibus, id rhoncus ligula porta.", time: "evening",      color: "#F4E8D3" },
      { temp: 75, location: "Memory 16 location", short: "Placeholder description.", long: "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed blandit libero sit amet mauris tincidunt, vitae molestie urna dictum. Integer ac lorem at felis blandit pharetra.", time: "night",        color: "#F8E8D0" },
      { temp: 80, location: "Memory 17 location", short: "Placeholder description.", long: "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed placerat risus vitae consequat hendrerit. Morbi rutrum cursus arcu, sit amet convallis ipsum volutpat nec. Aenean consequat nec lorem in gravida.", time: "midday",       color: "#FCE8CD" },
      { temp: 85, location: "Memory 18 location", short: "Placeholder description.", long: "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam porta nibh vel sapien luctus dignissim. Maecenas vitae sodales nunc, vel porttitor neque. In bibendum risus eu nulla ultricies placerat.", time: "afternoon",    color: "#FFE8CA" },
      { temp: 90, location: "Memory 19 location", short: "Placeholder description.", long: "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse feugiat efficitur nunc, id placerat enim luctus ut. Sed sollicitudin, nisi id fermentum pellentesque, ipsum sapien ultrices ante, at aliquet nisi arcu sed metus.", time: "evening",      color: "#FFE6C4" },
      { temp: 95, location: "Memory 20 location", short: "Placeholder description.", long: "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur mattis posuere quam. Fusce sed libero rhoncus, volutpat lacus non, pretium odio. Sed feugiat felis in bibendum consequat.", time: "night",        color: "#FFE4BE" }
    ];

    const landing = document.getElementById('landing');
    const scrollView = document.getElementById('scroll-view');
    const enterBtn = document.getElementById('enter-btn');
    const scrollContainer = document.getElementById('scroll-container');
    const scrollInner = document.getElementById('scroll-inner');
    const tempToggleButtons = document.querySelectorAll('.temp-toggle__btn');

    const detailOverlay = document.getElementById('memory-detail-overlay');
    const detailCloseBtn = document.getElementById('detail-close-btn');
    const detailBg = document.getElementById('memory-detail-bg');
    const detailTemp = document.getElementById('detail-temp');
    const detailLocation = document.getElementById('detail-location');
    const detailTime = document.getElementById('detail-time');
    const detailBarFill = document.getElementById('detail-bar-fill');
    const detailText = document.getElementById('detail-text');
    const detailMeta = document.getElementById('detail-meta');
    const polaroidContainer = document.getElementById('polaroid-container');

    const archiveOverlay = document.getElementById('archive-overlay');
    const archiveOpenBtn = document.getElementById('archive-open-btn');
    const archiveCloseBtn = document.getElementById('archive-close-btn');
    const archiveGrid = document.getElementById('archive-grid');

    const aboutOverlay = document.getElementById('about-overlay');
    const aboutOpenBtn = document.getElementById('about-open-btn');
    const aboutCloseBtn = document.getElementById('about-close-btn');

    let currentMemory = null;
    let currentUnit = 'fahrenheit';

    enterBtn.addEventListener('click', () => {
      landing.classList.add('hidden');
      scrollView.classList.remove('hidden');
    });

    const gradientStart = '#cfdfee';
    const gradientEnd = '#ffc45e';
    const tempColorStart = '#142b4d';
    const tempColorEnd = '#a13600';
    const polaroidTiltLimit = 7;

    function clamp01(value) {
      return Math.max(0, Math.min(1, value));
    }

    function convertTemp(valueF, unit = currentUnit) {
      return unit === 'fahrenheit' ? Math.round(valueF) : Math.round(((valueF - 32) * 5) / 9);
    }

    function getUnitSymbol(unit = currentUnit) {
      return unit === 'fahrenheit' ? '°F' : '°C';
    }

    function formatTemp(valueF, includeUnit = true) {
      const value = convertTemp(valueF);
      const suffix = includeUnit ? getUnitSymbol() : '°';
      return `${value}${suffix}`;
    }

    function updateTempElement(element) {
      const attr = element.getAttribute('data-temp-f');
      if (attr === null) return;
      const valueF = parseFloat(attr);
      if (Number.isNaN(valueF)) return;
      const showUnit = element.getAttribute('data-temp-show-unit') !== 'false';
      element.textContent = formatTemp(valueF, showUnit);
    }

    function setTempElement(element, valueF, options = {}) {
      element.setAttribute('data-temp-f', valueF);
      if (options.showUnit === false) {
        element.setAttribute('data-temp-show-unit', 'false');
      } else {
        element.removeAttribute('data-temp-show-unit');
      }
      updateTempElement(element);
    }

    function hexToRgb(hex) {
      let sanitized = hex.replace('#', '');
      if (sanitized.length === 3) {
        sanitized = sanitized.split('').map((char) => char + char).join('');
      }
      const num = parseInt(sanitized, 16);
      return {
        r: (num >> 16) & 255,
        g: (num >> 8) & 255,
        b: num & 255,
      };
    }

    function refreshAllTemps() {
      document.querySelectorAll('[data-temp-f]').forEach(updateTempElement);
      if (currentMemory) {
        detailMeta.textContent = `Placeholder Data: ${currentMemory.location}, ${currentMemory.time}, ${formatTemp(
          currentMemory.temp
        )}`;
      }
    }

    tempToggleButtons.forEach((button) => {
      button.addEventListener('click', () => {
        const selectedUnit = button.dataset.unit;
        if (!selectedUnit || selectedUnit === currentUnit) return;
        currentUnit = selectedUnit;
        tempToggleButtons.forEach((btn) => btn.classList.toggle('is-active', btn === button));
        refreshAllTemps();
      });
    });

    function mixColorChannels(startHex, endHex, progress) {
      const start = hexToRgb(startHex);
      const end = hexToRgb(endHex);
      const safeProgress = clamp01(progress);
      const interpolate = (channel) => Math.round(start[channel] + (end[channel] - start[channel]) * safeProgress);
      return { r: interpolate('r'), g: interpolate('g'), b: interpolate('b') };
    }

    function rgbToString({ r, g, b }) {
      return `rgb(${r}, ${g}, ${b})`;
    }

    function mixColors(startHex, endHex, progress) {
      return rgbToString(mixColorChannels(startHex, endHex, progress));
    }

    function getTempColor(progress) {
      return mixColors(tempColorStart, tempColorEnd, progress);
    }

    function getMemoryProgress(memory) {
      const index = memories.indexOf(memory);
      if (index === -1) return 0;
      const maxIndex = Math.max(memories.length - 1, 1);
      return index / maxIndex;
    }

    function updateScrollGradient(progress) {
      if (!scrollContainer) return;
      const clamped = clamp01(progress);
      const bottomColor = mixColors(gradientStart, gradientEnd, clamped);
      const midColor = mixColors(gradientStart, gradientEnd, Math.min(clamped + 0.2, 1));
      scrollContainer.style.background = `linear-gradient(180deg, ${gradientStart} 0%, ${midColor} 60%, ${bottomColor} 100%)`;
      const infoColor = mixColors('#1d283a', '#6a2a00', clamped);
      document.documentElement.style.setProperty('--info-color', infoColor);
    }

    function renderScrollSections() {
      const maxIndex = Math.max(memories.length - 1, 1);
      memories.forEach((memory, index) => {
        const progress = index / maxIndex;
        const section = document.createElement('div');
        section.className = 'memory-section';

        const container = document.createElement('div');

        const tempEl = document.createElement('div');
        tempEl.className = 'memory-temp';
        setTempElement(tempEl, memory.temp);
        tempEl.style.color = getTempColor(progress);

        const locEl = document.createElement('h3');
        locEl.className = 'memory-location';
        locEl.textContent = memory.location;

        const shortEl = document.createElement('p');
        shortEl.className = 'memory-short';
        shortEl.textContent = memory.short;

        const timeEl = document.createElement('div');
        timeEl.className = 'memory-time';
        timeEl.textContent = memory.time;

        container.appendChild(tempEl);
        container.appendChild(locEl);
        container.appendChild(shortEl);
        container.appendChild(timeEl);

        section.appendChild(container);
        section.addEventListener('click', () => openDetail(memory));

        scrollInner.appendChild(section);
      });
    }

    function handleScroll() {
      const { scrollTop, scrollHeight, clientHeight } = scrollContainer;
      const progress = scrollTop / (scrollHeight - clientHeight || 1);
      updateScrollGradient(progress);
    }

    scrollContainer.addEventListener('scroll', handleScroll);

    function openDetail(memory) {
      currentMemory = memory;
      const progress = getMemoryProgress(memory);

      setTempElement(detailTemp, memory.temp);
      detailLocation.textContent = memory.location;
      detailTime.textContent = memory.time;
      detailTemp.style.color = getTempColor(progress);
      detailBarFill.style.width = `${memory.temp}%`;
      detailBarFill.style.background = memory.color;
      detailText.textContent = memory.long;
      detailMeta.textContent = `Placeholder Data: ${memory.location}, ${memory.time}, ${formatTemp(memory.temp)}`;

      const lightTone = mixColors(memory.color, '#ffffff', 0.18);
      const shadowTone = mixColors(memory.color, '#000000', 0.15);
      detailBg.style.background = `linear-gradient(135deg, ${lightTone} 0%, ${shadowTone} 100%)`;

      polaroidContainer.innerHTML = '';
      const tilt = ((memory.temp * 13) % (polaroidTiltLimit * 2)) - polaroidTiltLimit;

      const polaroid = document.createElement('div');
      polaroid.className = 'polaroid';
      polaroid.style.transform = `rotate(${tilt}deg)`;

      const inner = document.createElement('div');
      inner.className = 'polaroid-inner';

      const img = document.createElement('div');
      img.className = 'polaroid-img';

      if (memory.image) {
      img.style.background = `url('${memory.image}') center/cover no-repeat`;
      } else {
      img.style.background = `linear-gradient(135deg, ${memory.color}44, ${memory.color}bb)`;
      setTempElement(img, memory.temp, { showUnit: false });
      }

      const caption = document.createElement('div');
      caption.className = 'polaroid-caption';
      caption.textContent = memory.location.split('location')[0].trim() || memory.location;

      inner.appendChild(img);
      inner.appendChild(caption);
      polaroid.appendChild(inner);
      polaroidContainer.appendChild(polaroid);

      detailOverlay.classList.remove('hidden');
    }

    detailCloseBtn.addEventListener('click', () => {
      detailOverlay.classList.add('hidden');
    });

    function renderArchive() {
  archiveGrid.innerHTML = '';
  memories.forEach(memory => {
    const card = document.createElement('div');
    card.className = 'archive-card';
    card.style.background = memory.color;

    const temp = document.createElement('div');
    temp.className = 'archive-temp';
    setTempElement(temp, memory.temp, { showUnit: false });

    const hover = document.createElement('div');
    hover.className = 'archive-hover';

    const hoverText = document.createElement('div');
    hoverText.className = 'archive-hover-text';

    const loc = document.createElement('div');
    loc.textContent = memory.location;

    hoverText.appendChild(loc);
    hover.appendChild(hoverText);

    card.appendChild(temp);
    card.appendChild(hover);

    card.addEventListener('click', () => {
      archiveOverlay.classList.add('hidden');
      openDetail(memory);
    });

    archiveGrid.appendChild(card);
  });
}

    archiveOpenBtn.addEventListener('click', () => {
      renderArchive();
      archiveOverlay.classList.remove('hidden');
    });

    archiveCloseBtn.addEventListener('click', () => {
      archiveOverlay.classList.add('hidden');
    });

    aboutOpenBtn.addEventListener('click', () => {
      aboutOverlay.classList.remove('hidden');
    });

    aboutCloseBtn.addEventListener('click', () => {
      aboutOverlay.classList.add('hidden');
    });

    // Initial render
    renderScrollSections();
    refreshAllTemps();
    updateScrollGradient(0);
  </script>
</body>
</html>